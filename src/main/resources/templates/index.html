<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login And Register</title>
    <link rel="stylesheet" href="./assets/user/style.css">
</head>
<body>
    <header>
        <h2 class="logo">Loan Status Prediction</h2>
        <nav class="navigation">
            
            <button class="btnLogin-popup">Login</button>  
        </nav>

    </header>


    <div class="wrapper">
        <span class="icon-close"><ion-icon name="close"></ion-icon></span>
        <div class="from-box login">
            <h2> Login</h2>

            <form action="userLogin" method="post">
				<th:block th:if="${param.error}">
							<h5 class="fw-bold text-danger text-center" id="errorMessage">Incorrect email or password</h6>
						</th:block>
						<th:block th:if="${param.logout}">
							<h5 class="fw-bold text-danger text-center" id="logoutMessage"> 
								logged out.</h6>
						</th:block>
                <div class="input-box">
                    <span class="icon"><ion-icon name="mail"></ion-icon></span>
                    <input type="mail" name="username" required>
                    <label for="">Email</label>
                </div>
                <div class="input-box">
                    <span class="icon"><ion-icon name="lock-closed"></ion-icon></span>
                    <input type="password" name="password" required>
                    <label for="">Password</label>
                </div>
                <div class="remember-forgot">
                    <label ><input type="checkbox">
                    Remember me</label>

                    <a href="#">Forgot Password</a>
                </div>
                <button type="submit" class="btn">Login</button>
                <div class="login-register">
                   <p> Don't have an account? <a href="#" class="register-link">Register</a></p>
                </div>
            </form>

        </div>
        <div class="from-box register">
            <h2> Sign up</h2>
            <form action="saveUser" method="post">
				<th:block th:if="${session.msg}">
							<p class="text-center fw-bold text-success" id="successMessage">
								[[${session.msg}]]
							</p>
						</th:block>
						
						<th:block th:if="${session.msgError}">
							<p class="text-center fw-bold text-danger" id="existMessage">
								[[${session.msgError}]]
							</p>
						</th:block>
                <div class="input-box">
                    <span class="icon"><ion-icon name="person"></ion-icon></ion-icon></span>
                    <input type="text" name="name" required>
                    <label for="">Username</label>
                </div>
                <div class="input-box">
                    <span class="icon"><ion-icon name="mail"></ion-icon></span>
                    <input type="mail" name="email" required>
                    <label for="">Email</label>
                </div>
                <div class="input-box">
                    <span class="icon"><ion-icon name="lock-closed"></ion-icon></span>
                    <input type="password" name="password" required>
                    <label for="">Password</label>
                </div>
                <div class="remember-forgot">
                    <label ><input type="checkbox">
                    I agree to the terms & conditions
                </label>


                </div>
                <button type="submit" class="btn">Register</button>
                <div class="login-register">
                   <p> Already have an account? <a href="#" class="login-link">login</a></p>
                </div>
            </form>

        </div>
    </div>

 <script th:inline="javascript">
		setTimeout(function () {
			// Hide the error message (if present)
			var errorMessage = document.getElementById('errorMessage');
			if (errorMessage) {
				errorMessage.style.display = 'none';
			}

			// Hide the logout message (if present)
			var logoutMessage = document.getElementById('logoutMessage');
			if (logoutMessage) {
				logoutMessage.style.display = 'none';
			}
		}, 5000); // 5000 milliseconds = 5 seconds
		
		    setTimeout(function () {
        // Hide the error message (if present)
        var errorMessage = document.getElementById('successMessage');
        if (errorMessage) {
            errorMessage.style.display = 'none';
        }

        // Hide the logout message (if present)
        var logoutMessage = document.getElementById('existMessage');
        if (logoutMessage) {
            logoutMessage.style.display = 'none';
        }
    }, 5000);
	</script>


    <script src="./assets/user/script.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>
</html>
